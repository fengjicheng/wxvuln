#  【漏洞通告】Apache Submarine SQL注入漏洞（CVE-2023-37924）   
 网安百色   2023-11-23 19:35  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/1QIbxKfhZo6TLA19pviaCFfbrwwfDkd81KlLEPjVUhNmpUTv82EJhu2QnczPmf7nU0UicVQhD3icJZp2vicGaWur0w/640?wx_fmt=gif "")  
  
  
  
**一、漏洞****概述**  
<table><tbody><tr style="mso-yfti-irow:0;mso-yfti-firstrow:yes;height:20.15pt;" class="firstRow"><td width="107.33333333333333" style="border-width: 2.25pt 1.5pt 1.5pt 2.25pt;border-color: windowtext;border-style: solid;background: rgb(222, 234, 246);padding: 0cm 5.4pt;" height="20"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">CVE   ID<o:p></o:p></span></section></td><td width="123.33333333333333" style="border-top: 2.25pt solid windowtext;border-left: none;border-bottom: 1.5pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;" height="20"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">CVE-2023-37924<o:p></o:p></span></section></td><td width="128.33333333333334" style="border-top: 2.25pt solid windowtext;border-left: none;border-bottom: 1.5pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;" height="20"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">发现时间<o:p></o:p></span></section></td><td width="135.33333333333331" style="border-top: 2.25pt solid windowtext;border-left: none;border-bottom: 1.5pt solid windowtext;border-right: 2.25pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;" height="20"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">2023-11-23<o:p></o:p></span></section></td></tr><tr style="mso-yfti-irow:1;"><td width="127" style="border-top: none;border-left: 2.25pt solid windowtext;border-bottom: 1.5pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">类    型<o:p></o:p></span></section></td><td width="143.33333333333334" style="border-top: none;border-left: none;border-bottom: 1.5pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-size: 14px;font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);">SQL注入<o:p></o:p></span></section></td><td width="148.33333333333334" style="border-top: none;border-left: none;border-bottom: 1.5pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">等    级<o:p></o:p></span></section></td><td width="135.33333333333331" style="border-top: none;border-left: none;border-bottom: 1.5pt solid windowtext;border-right: 2.25pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">高危<o:p></o:p></span></section></td></tr><tr style="mso-yfti-irow:2;"><td width="127" style="border-top: none;border-left: 2.25pt solid windowtext;border-bottom: 1.5pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">攻击向量<o:p></o:p></span></section></td><td width="143.33333333333334" style="border-top: none;border-left: none;border-bottom: 1.5pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">网络<o:p></o:p></span></section></td><td width="148.33333333333334" style="border-top: none;border-left: none;border-bottom: 1.5pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">所需权限<o:p></o:p></span></section></td><td width="135.33333333333331" style="border-top: none;border-left: none;border-bottom: 1.5pt solid windowtext;border-right: 2.25pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">无<o:p></o:p></span></section></td></tr><tr style="mso-yfti-irow:3;"><td width="127" style="border-top: none;border-left: 2.25pt solid windowtext;border-bottom: 1.5pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">攻击复杂度<o:p></o:p></span></section></td><td width="143.33333333333334" style="border-top: none;border-left: none;border-bottom: 1.5pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">低<o:p></o:p></span></section></td><td width="148.33333333333334" style="border-top: none;border-left: none;border-bottom: 1.5pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">用户交互<o:p></o:p></span></section></td><td width="135.33333333333331" style="border-top: none;border-left: none;border-bottom: 1.5pt solid windowtext;border-right: 2.25pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">无<o:p></o:p></span></section></td></tr><tr style="mso-yfti-irow:4;mso-yfti-lastrow:yes;"><td width="127" style="border-top: none;border-left: 2.25pt solid windowtext;border-bottom: 2.25pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">PoC/EXP<o:p></o:p></span></section></td><td width="143.33333333333334" style="border-top: none;border-left: none;border-bottom: 2.25pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">未公开<o:p></o:p></span></section></td><td width="148.33333333333334" style="border-top: none;border-left: none;border-bottom: 2.25pt solid windowtext;border-right: 1.5pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">在野利用<o:p></o:p></span></section></td><td width="135.33333333333331" style="border-top: none;border-left: none;border-bottom: 2.25pt solid windowtext;border-right: 2.25pt solid windowtext;background: rgb(222, 234, 246);padding: 0cm 5.4pt;"><section style="text-align: center;line-height: 150%;margin-bottom: 0px;"><span style="font-family: 微软雅黑, sans-serif;color: rgb(51, 51, 51);font-size: 14px;">未发现<o:p></o:p></span></section></td></tr></tbody></table>  
Apache Submarine是一个是云原生机器学习平台，允许创建端到端机器学习工作流程，通过Submarine可以完成ML 模型生命周期的每个阶段，包括数据探索、数据管道创建、模型训练、服务和监控。  
  
11月23日，启明星辰VSRC监测到Apache Submarine中修复了一个SQL注入漏洞（CVE-2023-37924）。  
  
Apache Submarine 版本0.7.0 - 0.8.0之前存在SQL 注入漏洞，由于Mybatis中模糊查询防止SQL注入时使用了${}（使用字符串拼接，不安全），当使用like查询时可能存在漏洞，未授权威胁者可利用该漏洞执行恶意SQL语句，导致未授权访问或执行恶意操作。  
  
## 二、影响范围  
  
0.7.0<=Apache Submarine版本< 0.8.0  
  
## 三、安全措施  
### 3.1 升级版本  
  
官方已通过将mybatis中like语句的相关部分替换为concat('%', #{param}, '%')修复了该漏洞，受影响用户可升级到Apache Submarine版本0.8.0。  
  
下载链接：  
  
https://submarine.apache.org/zh-cn/docs/download  
### 3.2 临时措施  
  
暂无。  
### 3.3 通用建议  
  
定期更新系统补丁，减少系统漏洞，提升服务器的安全性。  
  
加强系统和网络的访问控制，修改防火墙策略，关闭非必要的应用端口或服务，减少将危险服务（如SSH、RDP等）暴露到公网，减少攻击面。  
  
使用企业级安全产品，提升企业的网络安全性能。  
  
加强系统用户和权限管理，启用多因素认证机制和最小权限原则，用户和软件权限应保持在最低限度。  
  
启用强密码策略并设置为定期修改。  
### 3.4 参考链接  
  
https://lists.apache.org/thread/g99h773vd49n1wyghdq1llv2f83w1b3r  
  
https://github.com/apache/submarine/pull/1037  
  
https://issues.apache.org/jira/browse/SUBMARINE-1361  
  
  
  
![](https://mmbiz.qpic.cn/mmbiz_jpg/1QIbxKfhZo6M60aLu6MNdy20VjcnyaGECz7d9mYhdbclWg7wibJsickPUrnmNyFcvsjSYUqq5OPVPEXfW1SwkXCw/640?wx_fmt=jpeg "")  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/1QIbxKfhZo57Spb4ibrib8VUZd2ibdF9wHbvr4RwYJ4H2z6571icFIdSZXIpNH2YfW16ETwHh3ict3gtpW3W2fJqDmw/640?wx_fmt=gif "")  
  
长按添加关注，为您保驾护航！  
  
  
