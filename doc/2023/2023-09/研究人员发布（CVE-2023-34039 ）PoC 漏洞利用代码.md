#  研究人员发布（CVE-2023-34039 ）PoC 漏洞利用代码   
 安全客   2023-09-04 16:31  
  
## 研究人员针对 VMware Aria Operations for Networks 中最近的一个严重缺陷 (CVE-2023-34039) 发布了 PoC 漏洞利用代码。  
##   
  
下面的视频展示了概念验证的工作原理：  
  
  
![](https://mmbiz.qpic.cn/sz_mmbiz_gif/Ok4fxxCpBb7ibibqy14iaMWN4qPu1UphicoXE9WEWeldVicJvQAst2Qn7VCjHrqcgmAYjA9YGTOXibllEqNljfBIDzFA/640?wx_fmt=gif "")  
  
  
8月底，VMware发布了安全更新，以解决Aria Operations for Networks（以前称为vRealize Network Insight）中的两个漏洞，分别为  
CVE-2023-34039  
（CVSS评分：9.8）和CVE-2023-20890（CVSS评分：9.8）和CVE-2023-20890（CVSS评分：7.2）。  
  
  
漏洞 CVE-2023-34039 是由于缺乏唯一加密密钥生成而导致的身份验证绕过问题。  
  
  
由于缺乏唯一的加密密钥生成，Aria Operations for Networks 包含身份验证绕过漏洞。  
具有 Aria Operations for Networks 网络访问权限的恶意行为者可以绕过 SSH 身份验证来访问 Aria Operations for Networks CLI。  
  
  
该漏洞影响 Aria Operations Networks 版本 6.2、6.3、6.4、6.5.1、6.6、6.7、6.8、6.9 和 6.10，版本 6.11.0 解决了该问题。  
  
  
研究人员 Sina Kheirkhah 发布了 CVE-2023-34039 缺陷的概念验证 (PoC) 漏洞利用代码。  
专家解释说，该问题是由硬编码的 SSH 密钥引起的。  
  
  
“有趣的是，VMware 将此问题命名为“网络身份验证绕过”，但在我看来，没有任何内容被绕过。  
有 SSH 身份验证；  
但是，VMware 忘记重新生成密钥。”   
专家写道  
。  
  
  
“阅读完这两个描述后，我意识到这肯定是硬编码的 SSH 密钥问题。VMware 的 Aria Operations for Networks 已将其密钥从版本 6.0 硬编码到 6.10。”  
  
  
通过对该补丁的逆向工程，Kheirkhah 发现该问题与包含名为refresh_ssh_keys() 的方法的bash 脚本有关，该方法用于覆盖authorized_keys 文件中支持和ubuntu 用户的当前  
SSH  
密钥  
。  
  
  
专家注意到，两个用户都拥有相同的密钥，并且都是 sudoers 组的一部分，没有任何限制。  
  
  
为了创建 PoC 漏洞利用代码，研究人员收集了 6.0 到 6.10 版本的所有密钥。他指出，最新版本 6.11 不受此问题的影响。  
  
  
攻击者可以使用 PoC 代码获得设备的管理员访问权限，并利用 WMware 披露的另一个缺陷（跟踪为  
CVE-2023-20890  
）来运行恶意代码。  
  
  
  
