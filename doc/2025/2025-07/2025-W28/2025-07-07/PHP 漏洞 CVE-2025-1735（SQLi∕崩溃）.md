> **原文链接**: https://mp.weixin.qq.com/s?__biz=Mzg2NTk4MTE1MQ==&mid=2247487547&idx=1&sn=33033a7415fe3aabffa5f5711e51030a

#  PHP 漏洞 CVE-2025-1735（SQLi/崩溃）  
 TtTeam   2025-07-07 08:47  
  
**CVE-2025-1735：pgsql 扩展缺少错误检查，导致 SQL 注入和崩溃**  
  
**该漏洞源于 PHP 的 PostgreSQL (pgsql) 扩展中不正确的错误处理。当 PHP 未能正确处理 PostgreSQL 的 PQescapeStringConn() 和 PQescapeIdentifier() 函数的返回值和错误时，就会出现此漏洞。**  
  
![](https://mmbiz.qpic.cn/sz_mmbiz_png/0HlywncJbB3YFpQO35SANASm3MzJK2ia5xibyEJx4o9M3dh0EFgeKxtM7SuCXC3EuecgBRCWJhxkwlxoUz1iaasNQ/640?wx_fmt=png&from=appmsg "")  
  
“具体来说，错误参数没有传递给 PQescapeStringConn()，因此无法报告错误，”咨询报告中指出。  
  
换句话说，如果转义函数遇到无效编码或意外输入，PHP 将无法检测或做出适当响应，从而可能导致 SQL 注入或空指针取消引用崩溃。  
  
尽管 PostgreSQL 本身现在试图防止这些编码问题，但 PHP 扩展未能传递和检查错误参数，留下了一个危险的漏洞。  
  
“还注意到，对 PQescapeIdentifier() 的几次调用没有检查返回值是否为 NULL......[这]可能会导致某些调用站点崩溃或至少出现 UB（未定义行为）， ”该公告解释道。  
  
****  
