#  APP渗透测试 -- janus漏洞   
 Web安全工具库   2025-02-06 16:00  
  
本套课程在线学习（网盘地址，保存即可免费观看）地址：  
  
链接：https://pan.quark.cn/s/276691239b96  
  
![](https://mmbiz.qpic.cn/sz_mmbiz_png/8H1dCzib3UibsKCHckRLPXsxnGxicRLm65hMKO8jNibw9rEQXyEFvYCDVQlyIfANHxwmFicHhpBow3CvaOdCMibPXsDA/640?wx_fmt=png&from=appmsg "")  
  
00:00 - 2017年度重大漏洞：在不改变签名的情况下替换APK文件  
  
讨论了一个在2017年引起广泛关注的重大安全漏洞，该漏洞允许攻击者在不改变应用签名的情况下替换APK文件，从而绕过系统更新检查。通常，系统在更新时会检查更新包的签名是否与当前应用的签名一致，以确保安全。然而，通过利用这个漏洞，攻击者可以替换classics.dex等可执行文件，而签名保持不变，使得系统误认为是正常更新操作。对话中提到了两种主流的签名方案：基于价值签名方案（V1）和安卓7.0之后引入的签名方案V2。V1签名方案不保护APK的某些部分，如zip的原数据，这为攻击者提供了攻击面；而V2签名方案通过增加签名块来增强安全性。  
  
02:27 - 利用Zippo漏洞进行APK文件攻击  
  
Zippo实际上是APK文件，其结构包含zip file entries、central entries和end of century directory三部分。攻击者可通过在APK头部增加恶意的dex文件，利用系统对文件类型的判断机制，使系统将其误认为有效的可执行文件并执行。这种攻击方式不破坏APK的签名，允许恶意dex文件被视为合法的APP升级版，从而在运行时从恶意dex文件头部开始执行，忽略后续正常dex文件，实现对APK的恶意代码注入。  
  
06:33 - 安卓7.0签名方案中的混合签名问题  
  
安卓7.0引入了新的签名方案，增加了一个APK 3 block用于签名，提高了安全性。然而，由于兼容性问题，开发者可能选择混合签名，即同时使用V1和V2签名方式。这在不同设备上可能会导致兼容性问题，因为某些设备可能不支持新的签名方式，只能回滚到旧版本。尽管如此，开发中仍推荐同时选择两种签名方式以确保广泛兼容性。  
  
10:04 - 演示和修复Android APK签名漏洞  
  
对话讨论了通过实验演示一种针对Android APK签名的攻击方式，并指出此攻击手段在传统安全厂商中可能未被充分认识，但其危害较大。介绍了修复方案，主要采用VR签名方案，并通过创建和修改APK文件来区分V1和V2签名版本，进一步展示了如何复现此漏洞，以执行恶意代码。  
  
19:07 - 通过修改DEX文件替换APK功能的实践  
  
对话讨论了通过修改和替换APK中的DEX文件来实现功能更改的实践方法。首先介绍了如何使用特定脚本提取并替换DEX文件，避免音量偏移等问题。随后，详细解释了通过解压缩、替换DEX文件并重新打包生成新的APK的过程，以及在不同模拟器和真机上的测试情况。最后，提到了在生成自定义APK时可能遇到的复杂性，如需要处理多个DEX文件和重新构造AndroidManifest文件中的组件信息，并提出了一种直接修改现有DEX文件的简便方法。  
  
26:07 - 演示如何修改和破解APK中的广告功能  
  
演示者下载了一个用于爆破压缩密码的APK文件，通过解压缩和反编译，展示了如何修改其中的广告功能，包括如何忽略初始化时弹出的对话框和广告，以及如何通过修改代码逻辑去除弹窗。此外，还讨论了签名过程和潜在的安全风险，特别是在金融类应用程序的上下文中，黑客可能利用此类方法进行攻击。演示者强调了在局域网中，通过修改升级请求中的APK内容，攻击者可能进行的危险行为。  
  
  
  
  
该内容转载自网络，仅供学习交流，勿作他用，如有侵权请联系删除。  
  
  
**各 类 学 习 教 程 下 载 合 集**  
  
  
  
  
  
  
  
  
  
https://pan.quark.cn/s/8c91ccb5a474  
  
  
![](https://mmbiz.qpic.cn/sz_mmbiz_png/8H1dCzib3UibuuhdO7GMx4wqK5PQMWgr8pNaudBlYJUYXP6R6LcL0d3UYmPLoiajIXwaibhvlchGibgiaBGwMSwuq58g/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1 "")  
  
  
  
  
  
