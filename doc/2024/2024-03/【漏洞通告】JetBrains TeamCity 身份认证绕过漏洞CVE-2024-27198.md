#  【漏洞通告】JetBrains TeamCity 身份认证绕过漏洞CVE-2024-27198   
深瞳漏洞实验室  深信服千里目安全技术中心   2024-03-07 16:00  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/w8NHw6tcQ5wveibLhxqcKWmUe8ibHpMNUrWX3t4x6B2lJlGL7tzCn3pBW2alZ4rEeftME96CEryHlZl9iaEvJPIYg/640?wx_fmt=gif&from=appmsg "")  
  
**漏洞名称：**  
  
JetBrains TeamCity 身份认证绕过漏洞（CVE-2024-27198）  
  
**组件名称：**  
  
TeamCity  
  
**影响范围：**  
  
TeamCity < 2023.11.4  
  
**漏洞类型：**  
  
身份认证绕过  
  
**利用条件：**  
  
1、用户认证：否  
  
2、前置条件：默认配置  
  
3、触发方式：远程  
  
**综合评价：**  
  
<综合评定利用难度>：容易，无需授权即可绕过身份认证。  
  
<综合评定威胁等级>：高危，能造成身份认证绕过和任意代码执行。  
  
**官方解决方案：**  
  
已发布  
  
  
  
  
  
**漏洞分析**  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/w8NHw6tcQ5wveibLhxqcKWmUe8ibHpMNUrc1KbicHftsFt9ib08Q84qHmxPSHW3HWRLZgUfroInoJwzbX8CWchWEjg/640?wx_fmt=gif&from=appmsg "")  
  
**组件介绍**  
  
TeamCity 是由 JetBrains 公司开发的一个持续集成（Continuous Integration，CI）和持续部署（Continuous Deployment，CD）服务器。它支持多种编程语言和技术，提供了自动化构建、测试和部署的功能。  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/w8NHw6tcQ5wveibLhxqcKWmUe8ibHpMNUrc1KbicHftsFt9ib08Q84qHmxPSHW3HWRLZgUfroInoJwzbX8CWchWEjg/640?wx_fmt=gif&from=appmsg "")  
  
**漏洞简介**  
  
2024年3月7日，深瞳漏洞实验室监测到一则TeamCity组件存在身份认证绕过漏洞的信息，漏洞编号：CVE-2024-27198，漏洞威胁等级：高危。  
  
该漏洞是由于TeamCity处理URI路径不当导致，**攻击者可利用该漏洞绕过身份认证，从而进一步实现任意代码执行。**  
  
  
**影响范围**  
  
目前受影响的TeamCity版本：  
  
TeamCity < 2023.11.4  
  
  
  
**漏洞验证**  
  
搭建TeamCity组件2023.11.3版本环境，复现该漏洞，效果如下：  
  
![](https://mmbiz.qpic.cn/mmbiz_png/w8NHw6tcQ5wveibLhxqcKWmUe8ibHpMNUrbDYiaoepnlJGIG4dTV02YmyL1eR9WMjhx9JIM6CqSfSTQX8q8wlH77g/640?wx_fmt=png&from=appmsg "")  
  
  
  
**解决方案**  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/w8NHw6tcQ5wveibLhxqcKWmUe8ibHpMNUrc1KbicHftsFt9ib08Q84qHmxPSHW3HWRLZgUfroInoJwzbX8CWchWEjg/640?wx_fmt=gif&from=appmsg "")  
  
**如何检测组件系统版本**  
  
  
访问登录页面即可查看版本号。  
  
![](https://mmbiz.qpic.cn/mmbiz_png/w8NHw6tcQ5wveibLhxqcKWmUe8ibHpMNUrxhblsCJbOxujqutsoE6hY1yrwJFNQu1LNM0Xzgm4XJWfqlnN57F7Cg/640?wx_fmt=png&from=appmsg "")  
  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/w8NHw6tcQ5wveibLhxqcKWmUe8ibHpMNUrc1KbicHftsFt9ib08Q84qHmxPSHW3HWRLZgUfroInoJwzbX8CWchWEjg/640?wx_fmt=gif&from=appmsg "")  
  
**官方修复建议**  
  
  
当前官方已发布最新版本，建议受影响的用户及时更新升级到最新版本。链接如下：  
  
https://blog.jetbrains.com/teamcity/2024/03/teamcity-2023-11-4-is-out/  
  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/w8NHw6tcQ5wveibLhxqcKWmUe8ibHpMNUrc1KbicHftsFt9ib08Q84qHmxPSHW3HWRLZgUfroInoJwzbX8CWchWEjg/640?wx_fmt=gif&from=appmsg "")  
  
**深信服解决方案**  
  
  
**1.风险资产发现**  
  
支持对TeamCity的主动检测，可**批量检出**业务场景中该事件的**受影响资产**情况，相关产品如下：  
  
**【深信服云镜YJ】**已发布资产检测方案。  
  
**【深信服漏洞评估工具TSS】**已发布资产检测方案。  
  
  
**2.漏洞主动检测**  
  
支持对JetBrains TeamCity身份认证绕过漏洞（CVE-2024-27198）的主动检测，可**批量快速检出**业务场景中是否存在**漏洞风险**，相关产品如下：  
  
**【深信服云镜YJ】**预计2024年3月10日发布检测方案。  
  
**【深信服漏洞评估工具TSS】**预计2024年3月14日发布检测方案。  
  
**【深信服安全托管服务MSS】**预计2024年3月14日发布检测方案，（需要具备TSS或CWPP组件能力）。  
  
**【深信服安全检测与响应平台XDR】**预计2024年3月10日发布检测方案，（需要具备云镜或CWPP组件能力）。  
  
  
  
**参考链接**  
  
  
https://blog.jetbrains.com/teamcity/2024/03/additional-critical-security-issues-affecting-teamcity-on-premises-cve-2024-27198-and-cve-2024-27199-update-to-2023-11-4-now/  
  
  
  
**时间轴**  
  
  
  
**2024/3/7**  
  
深瞳漏洞实验室监测到TeamCity官方发布安全补丁。  
  
  
**2024/3/7**  
  
深瞳漏洞实验室发布漏洞通告。  
  
点击**阅读原文**，及时关注并登录深信服**智安全平台**，可轻松查询漏洞相关解决方案。  
  
![](https://mmbiz.qpic.cn/mmbiz_png/w8NHw6tcQ5wveibLhxqcKWmUe8ibHpMNUrJXup99lLdGbpibbhe9cIYVZTeauEn5gMficOEwCovYG0f0pPZcXBUic7A/640?wx_fmt=png&from=appmsg "")  
  
  
![](https://mmbiz.qpic.cn/mmbiz_jpg/w8NHw6tcQ5wveibLhxqcKWmUe8ibHpMNUr4byuaVkJK6xtsIazNPGBECUBLKibxBDjM11GaoO6n7vrXLLFibkUicHHg/640?wx_fmt=jpeg&from=appmsg "")  
  
  
  
  
