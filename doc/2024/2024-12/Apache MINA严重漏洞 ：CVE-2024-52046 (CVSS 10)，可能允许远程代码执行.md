#  Apache MINA严重漏洞 ：CVE-2024-52046 (CVSS 10)，可能允许远程代码执行   
 E安全   2024-12-27 01:01  
  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/QmbJGbR2j6ziaDQicjSoMvtvWc1eXfpdYRIg4oR3NmxtVRGWicUg1VQUU4pyxrLqqQENECfswzhsYBLVwSnRnAsWg/640?wx_fmt=jpeg&from=appmsg "")  
  
![](https://mmbiz.qpic.cn/sz_mmbiz_png/QmbJGbR2j6ziaDQicjSoMvtvWc1eXfpdYRPsTef6cIy8P9NnQ0HA1ian9WVzQWdQQKsgpMrsKLbjLVga0rtQ3Duhg/640?wx_fmt=png&from=appmsg "")  
  
  
**E安全消息，网络应用框架Apache MINA发现一个严重漏洞。漏洞被追踪为CVE-2024-52046，CVSS得分10，可能允许攻击者在系统上执行任意代码。**  
  
  
Apache MINA框架用于构建高性能和可扩展的网络应用，以其事件驱动异步API而闻名。该API简化了TCP/IP和UDP/IP等传输上的网络编程，被广泛应用于各种应用。  
  
  
然而，其ObjectSerializationDecoder组件的一个缺陷为恶意行为者打开了大门。这个解码器利用Java的本地反序列化来处理序列化数据，被发现缺乏关键的安全检查。  
  
  
问题的根源在于易受攻击版本的MINA处理对象反序列化的方式。没有适当的防护措施，攻击者可以发送特别制作的恶意序列化数据，当ObjectSerializationDecoder处理这些数据时，可能会导致远程代码执行（RCE）。这意味着攻击者可能完全控制受影响的系统。  
  
  
**CVE-2024-52046漏洞影响了一系列Apache MINA版本，具体包括：**  
- Apache MINA 2.0.0至2.0.26  
  
- Apache MINA 2.1.0至2.1.9  
  
- Apache MINA 2.2.0至2.2.3  
  
需要注意的是，并非所有使用MINA的应用程序都会自动受到影响。  
  
  
当应用程序使用IoBuffer#getObject()方法时，风险就会出现，这可能在ProtocolCodecFilter实例使用ObjectSerializationCodecFactory类被添加到过滤器链时被调用。如果你的应用程序依赖这些特定类和方法，你可能已经暴露了风险，必须立即采取行动。  
  
  
**Apache MINA团队通过发布以下修补版本迅速解决了这一关键漏洞：**  
- Apache MINA 2.0.27  
  
- Apache MINA 2.1.10  
  
- Apache MINA 2.2.4  
  
仅仅升级是不够的。更新的版本引入了一个重要的安全增强功能：开发人员必须明确定义ObjectSerializationDecoder被允许反序列化的类。  
  
****  
**通过三个新方法实现：**  
- accept(ClassNameMatcher classNameMatcher)  
  
- accept(Pattern pattern)  
  
- accept(String… patterns)  
  
默认情况下，解码器现在将拒绝所有类，遵循“拒绝所有”的原则，除非明确允许。这增加了一个重要的控制层，防止了不受信任和潜在恶意对象的反序列化。  
  
  
Apache MINA团队已表示，FtpServer、SSHd和Vysper子项目不受此漏洞影响。  
  
  
  
**精彩推荐**  
  
  
报名启动！第八届“西湖论剑·中国杭州网络安全技能大赛”等你来战！  
2024.12.23  
  
[](https://mp.weixin.qq.com/s?__biz=MzI4MjA1MzkyNA==&mid=2655348320&idx=1&sn=5cbb9a1af2b46fbf4ec82a57a0fb20ae&scene=21#wechat_redirect)  
  
  
立即更新！Adobe警告ColdFusion严重漏洞PoC  
2024.12.25  
  
[](https://mp.weixin.qq.com/s?__biz=MzI4MjA1MzkyNA==&mid=2655348345&idx=1&sn=02f5839a880a5e2191b58ca3dc6b324d&scene=21#wechat_redirect)  
  
  
Postman Workspaces泄露超3万个API密钥和敏感令牌  
  
2024.12.26  
  
[](https://mp.weixin.qq.com/s?__biz=MzI4MjA1MzkyNA==&mid=2655348358&idx=1&sn=6a985608bf3d304ef9c0a438079b91e3&scene=21#wechat_redirect)  
  
  
  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/QmbJGbR2j6xuwKC3XZa5PZwOfyW4oy9y2uKJLHcg0LnRAXiaicvdMTgLgKoxoVJZfmQxUensppSZJSmnIbX3dNiaQ/640?wx_fmt=other&from=appmsg&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/QmbJGbR2j6xuwKC3XZa5PZwOfyW4oy9ypIV3ItH0hiazjtk1Qe8wQJHLiaMTtfDZD9UnHrctGwbbbx9NLsQibCa0Q/640?wx_fmt=other&from=appmsg&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/QmbJGbR2j6xuwKC3XZa5PZwOfyW4oy9ynjicbtVrTnA8w5v2sLoAjkictk1u5uVGJZ9MMouKDLUqsqXRZjkhU84A/640?wx_fmt=other&from=appmsg&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
注：本文由E安全编译报道，转载请联系授权并注明来源。  
  
