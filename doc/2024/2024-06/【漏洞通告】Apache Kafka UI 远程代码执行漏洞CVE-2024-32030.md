#  【漏洞通告】Apache Kafka UI 远程代码执行漏洞CVE-2024-32030   
深瞳漏洞实验室  深信服千里目安全技术中心   2024-06-25 19:38  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/w8NHw6tcQ5xzL29uN6Gia9VSOIFAKpyPR5TrOia2jCTahibCGM4lSfyKo5rpMGJLUSjXicc9Pejyzjr6e7hdMsygmw/640?wx_fmt=gif&from=appmsg "")  
  
**漏洞名称：**  
  
Apache Kafka UI 远程代码执行漏洞(CVE-2024-32030)  
  
**组件名称：**  
  
Apache-Kafka UI  
  
**影响范围：**  
  
Apache Kafka UI ≤ 0.7.1  
  
**漏洞类型：**  
  
代码注入  
  
**利用条件：**  
  
1、用户认证：不需要用户认证  
  
2、前置条件：设置dynamic.config.enabled 属性或可以访问连接到Kafka UI的Kafka集群  
  
3、触发方式：远程  
  
**综合评价：**  
  
<综合评定利用难度>：容易，能造成远程代码执行。  
  
<综合评定威胁等级>：高危，能造成远程代码执行。  
  
**官方解决方案：**  
  
已发布  
  
  
  
  
**漏洞分析**  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/w8NHw6tcQ5xzL29uN6Gia9VSOIFAKpyPRdM2cadOoaBcBVwKDQb3Ymzf8GIuFFa4wvwpttBF55N1DoIicfr6PVCA/640?wx_fmt=gif&from=appmsg "")  
  
**组件介绍**  
  
Apache Kafka UI 是一个用于管理和监控 Apache Kafka 集群的用户界面工具。它提供了一个直观的图形界面，使用户能够轻松地查看和管理 Kafka 集群中的主题、分区、消费者组等。  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/w8NHw6tcQ5xzL29uN6Gia9VSOIFAKpyPRdM2cadOoaBcBVwKDQb3Ymzf8GIuFFa4wvwpttBF55N1DoIicfr6PVCA/640?wx_fmt=gif&from=appmsg "")  
  
**漏洞简介**  
  
2024年6月25日，深瞳漏洞实验室监测到一则Apache-Kafka UI组件存在代码注入漏洞的信息，漏洞编号：CVE-2024-32030，漏洞威胁等级：高危。  
  
Kafka UI存在远程代码执行漏洞，  
**攻击者可以通过RMI协议连接JMX端口进行反序列化攻击，执行任意代码，最终导致服务器失陷。**  
  
  
**影响范围**  
  
目前受影响的Apache-Kafka UI版本：  
  
Apache Kafka UI ≤ 0.7.1  
  
  
  
**解决方案**  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/w8NHw6tcQ5xzL29uN6Gia9VSOIFAKpyPRdM2cadOoaBcBVwKDQb3Ymzf8GIuFFa4wvwpttBF55N1DoIicfr6PVCA/640?wx_fmt=gif&from=appmsg "")  
  
**如何检测组件系统版本**  
  
  
Kafka UI控制台主页左上角显示了当前版本。  
  
![](https://mmbiz.qpic.cn/mmbiz_png/w8NHw6tcQ5xzL29uN6Gia9VSOIFAKpyPRicj3lavvOwyabiaJlNHvIR7zUsFccp7psyp5ibZbEawxrKcgkG81LpDdA/640?wx_fmt=png&from=appmsg "")  
  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/w8NHw6tcQ5xzL29uN6Gia9VSOIFAKpyPRdM2cadOoaBcBVwKDQb3Ymzf8GIuFFa4wvwpttBF55N1DoIicfr6PVCA/640?wx_fmt=gif&from=appmsg "")  
  
**官方修复建议**  
  
  
官方已发布最新版本修复该漏洞，请受影响用户将Apache Kafka UI升级到0.7.2及以上版本。  
  
下载链接：https://github.com/provectus/kafka-ui  
  
![](https://mmbiz.qpic.cn/mmbiz_gif/w8NHw6tcQ5xzL29uN6Gia9VSOIFAKpyPRdM2cadOoaBcBVwKDQb3Ymzf8GIuFFa4wvwpttBF55N1DoIicfr6PVCA/640?wx_fmt=gif&from=appmsg "")  
  
**深信服解决方案**  
  
  
**1.风险资产发现**  
  
支持对Apache-Kafka UI的主动检测，可批量检出业务场景中该事件的**受影响资产**情况，相关产品如下：  
  
**【深信服云镜YJ】** 已发布资产检测方案。  
  
  
**2.漏洞主动检测**  
  
支持对Apache Kafka UI 远程代码执行漏洞(CVE-2024-32030)的主动检测，可批量快速检出业务场景中是否存在**漏洞风险**，相关产品如下：  
  
**【深信服云镜YJ】**预计2024年06月26日发布检测方案。  
  
**【深信服漏洞评估工具TSS】**预计2027年07月01日发布检测方案。  
  
**【深信服安全托管服务MSS】**预计2027年07月01日发布检测方案（需要具备TSS或CWPP组件能力）。  
  
**【深信服安全检测与响应平台XDR】**预计2024年06月26日发布检测方案（需要具备云镜或CWPP组件能力）。  
  
  
**3.漏洞安全监测**  
  
支持对Apache Kafka UI 远程代码执行漏洞(CVE-2024-32030)的监测，可依据流量收集实时监控业务场景中的**受影响资产情况，快速检查受影响范围，**相关产品及服务如下：  
  
**【深信服安全感知管理平台SIP】**预计2024年06月28日发布监测方案。  
  
**【深信服安全托管服务MSS】**预计2024年06月28日发布监测方案（需要具备SIP组件能力）。  
  
**【深信服安全检测与响应平台XDR】**预计2024年06月28日发布监测方案。  
  
  
**4.漏洞安全防护**  
  
支持对Apache Kafka UI 远程代码执行漏洞(CVE-2024-32030)的防御，**可阻断攻击者针对该事件的入侵行为**，相关产品及服务如下：  
  
**【深信服下一代防火墙AF】**预计2024年06月28日发布防护方案。  
  
**【深信服Web应用防火墙WAF】**预计2024年06月28日发布防护方案。  
  
**【深信服安全托管服务MSS】**预计2024年06月28日发布防护方案（需要具备AF组件能力）。  
  
**【深信服安全检测与响应平台XDR】**预计2024年06月28日发布防护方案（需要具备AF组件能力）。  
  
  
  
**参考链接**  
  
  
https://github.com/provectus/kafka-ui/pull/4427  
  
https://securitylab.github.com/advisories/GHSL-2023-229_GHSL-2023-230_kafka-ui/  
  
https://github.com/provectus/kafka-ui/commit/83b5a60cc08501b570a0c4d0b4cdfceb1b88d6b7#diff-37e769f4709c1e78c076a5949bbcead74e969725bfd89c7c4ba6d6f229a411e6R36  
  
  
**时间轴**  
  
  
  
**2024/6/25**  
  
深瞳漏洞实验室监测到Apache Kafka UI 远程代码执行漏洞信息。  
  
  
**2024/6/25**  
  
深瞳漏洞实验室发布漏洞通告。  
  
  
点击**阅读原文**，及时关注并登录深信服**智安全平台**，可轻松查询漏洞相关解决方案。  
  
![](https://mmbiz.qpic.cn/mmbiz_png/w8NHw6tcQ5xzL29uN6Gia9VSOIFAKpyPRMqxthCmnCxUtfYkyGxHOyjlu5E93PtOaXKGIGQoS0bSR75P5ymxK7g/640?wx_fmt=png&from=appmsg "")  
  
  
![](https://mmbiz.qpic.cn/mmbiz_jpg/w8NHw6tcQ5zvcIHbwGGYKbqDVYsVKzNNia1jYtHf49C7133AlDXAgex2W4lFvpia56tjQQDkiauNBrl08YbxqG01A/640?wx_fmt=jpeg&from=appmsg "")  
  
  
